<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reset Password - Titan Coffee Run</title>
    <link rel="stylesheet" type="text/css" href="css/style.css" />
</head>

<body>

    <header>
        <h1>Reset Password</h1>
    </header>

    <main>
        <section>
            <h2>Reset Password</h2>
            <form id="reset_password_form">
                <label for="username">Username / Email:</label><br>
                <input type="text" id="username" name="username"><br>

                <label for="reset_password">New Password:</label><br>
                <input type="password" id="reset_password" name="reset_password"><br>

                <input type="button" value="Reset Password" onclick="reset_password()">
            </form>
        </section>
    </main>

    <footer>
        <p>&copy; 2023 Titan Coffee Run. All rights reserved.</p>
    </footer>
    <script>
        "use strict";
        var $ = function (id) {
            return document.getElementById(id);
        };

        var reset_password = function () {
            var username = $("username").value;
            var newPassword = $("reset_password").value;

            console.log("Resetting password for:", username);

            var storedUser = localStorage.getItem(username);
            console.log("Stored user:", storedUser);

            if (storedUser) {
                var user = JSON.parse(storedUser);
                user.password = newPassword;

                // Update the user information in localStorage
                localStorage.setItem(username, JSON.stringify(user));
                console.log("Password updated successfully.");

                window.location.href = "login.html";
            } else {
                alert("User not found. Please check your username.");
            }
        };

    

</script>
</body>

</html>